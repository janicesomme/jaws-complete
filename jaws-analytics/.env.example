# JAWS Analytics - Environment Variables Template
# Copy this file to .env and fill in your actual values

# ==============================================================================
# SUPABASE CONFIGURATION
# ==============================================================================
# Get these from: Supabase Dashboard → Project Settings → API

# Your Supabase project URL
# Format: https://[project-ref].supabase.co
SUPABASE_URL=https://your-project-ref.supabase.co

# Service role key - CRITICAL: Use this for n8n workflows (full database access)
# Starts with: eyJhbGc...
# Find in: Project Settings → API → service_role key (not anon key!)
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.your-service-role-key-here

# Anonymous key - Use this for dashboard/frontend read-only access
# Starts with: eyJhbGc...
# Find in: Project Settings → API → anon/public key
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.your-anon-key-here

# ==============================================================================
# ANTHROPIC CLAUDE API CONFIGURATION
# ==============================================================================
# Get your API key from: https://console.anthropic.com/settings/keys

# Your Anthropic API key
# Starts with: sk-ant-
# Used for: AI summary generation and Mermaid diagram creation
ANTHROPIC_API_KEY=sk-ant-api03-your-api-key-here

# Claude model to use (default: claude-sonnet-4-20250514)
# Options: claude-sonnet-4-20250514, claude-opus-4-5-20251101
# Note: Opus is more expensive but higher quality
ANTHROPIC_MODEL=claude-sonnet-4-20250514

# Maximum tokens for Claude responses (default: 4096)
# Adjust if you need longer summaries/diagrams
ANTHROPIC_MAX_TOKENS=4096

# ==============================================================================
# FILE SYSTEM CONFIGURATION
# ==============================================================================
# Base path where RALPH-JAWS projects are stored

# Windows example:
# PROJECTS_BASE_PATH=C:\Users\YourUsername\projects

# Linux/Mac example:
# PROJECTS_BASE_PATH=/home/yourusername/projects

PROJECTS_BASE_PATH=/path/to/your/projects

# ==============================================================================
# N8N CONFIGURATION (Optional)
# ==============================================================================
# Only needed if you're running n8n programmatically or need webhook URLs

# n8n base URL
# Local: http://localhost:5678
# Docker: http://n8n:5678
# Cloud: https://your-instance.n8n.cloud
N8N_WEBHOOK_URL=http://localhost:5678/webhook

# n8n webhook endpoint for build analysis
N8N_ANALYZE_WEBHOOK=/webhook/analyze-build

# ==============================================================================
# DASHBOARD CONFIGURATION (Optional - for Phase 5)
# ==============================================================================
# Frontend dashboard settings

# Dashboard port (default: 3000)
DASHBOARD_PORT=3000

# Dashboard URL (used for PDF generation)
DASHBOARD_URL=http://localhost:3000

# ==============================================================================
# OPTIONAL: LOGGING & DEBUGGING
# ==============================================================================

# Log level (options: debug, info, warn, error)
LOG_LEVEL=info

# Enable detailed logging in workflows
DEBUG_MODE=false

# ==============================================================================
# SECURITY NOTES
# ==============================================================================
#
# 1. NEVER commit .env to git - it's in .gitignore by default
# 2. Keep service_role key secure - it has full database access
# 3. Rotate keys every 90 days for security
# 4. Use anon key only in frontend/dashboard
# 5. Use service_role key only in backend/n8n workflows
#
# ==============================================================================
# QUICK VALIDATION
# ==============================================================================
#
# Test your credentials after filling them in:
#
# 1. Test Supabase connection:
# curl -X GET "$SUPABASE_URL/rest/v1/jaws_builds?limit=1" \
#   -H "apikey: $SUPABASE_SERVICE_ROLE_KEY" \
#   -H "Authorization: Bearer $SUPABASE_SERVICE_ROLE_KEY"
#
# 2. Test Claude API:
# curl https://api.anthropic.com/v1/messages \
#   -H "content-type: application/json" \
#   -H "x-api-key: $ANTHROPIC_API_KEY" \
#   -H "anthropic-version: 2023-06-01" \
#   -d '{"model": "claude-sonnet-4-20250514", "max_tokens": 50, "messages": [{"role": "user", "content": "Hello"}]}'
#
# 3. Test file access:
# ls $PROJECTS_BASE_PATH
#
# See docs/CREDENTIALS-SETUP.md for detailed setup instructions.
